# Generated by 'translatesfx'. This tool is currently experimental. Please
# verify config before attempting to use in production.
extensions:
  smartagent:
    bundleDir: /usr/lib/signalfx-agent
    collectd:
      configDir: /var/run/signalfx-agent
config_sources:
  include: null
processors:
  resourcedetection:
    detectors:
      - system
      - env
      - gce
      - ecs
      - ec2
      - azure
  metricstransform:
    transforms:
      - include: .*
        match_type: regexp
        action: update
        operations:
          - action: add_label
            new_label: aaa
            new_value: 42
          - action: add_label
            new_label: bbb
            new_value: 111
receivers:
  smartagent/collectd/redis:
    host: localhost
    port: 6379
    type: collectd/redis
  smartagent/signalfx-forwarder:
    listenAddress: 0.0.0.0:9080
    type: signalfx-forwarder
exporters:
  signalfx:
    access_token: ${include:token}
    realm: us1
service:
  extensions:
    - smartagent
  pipelines:
    metrics:
      receivers:
        - smartagent/collectd/redis
        - smartagent/signalfx-forwarder
      processors:
        - resourcedetection
        - metricstransform
      exporters:
        - signalfx
    traces:
      exporters:
        - signalfx
      processors:
        - resourcedetection
      receivers:
        - smartagent/signalfx-forwarder
