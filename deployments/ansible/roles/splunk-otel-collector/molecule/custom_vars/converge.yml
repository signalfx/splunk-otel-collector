---
- name: Converge scenario with custom variables
  hosts: all
  become: yes
  vars:
    splunk_access_token: fake-token
    collector_version: 0.24.3
    collector_config: /etc/otel/collector/custom_config.yml
    collector_config_source: ./custom_collector_config.yml
    service_user: custom-user
    service_group: custom-group
    memory_total_mib: 256
    ballast_size_mib: 100
    fluentd_config: /etc/otel/collector/fluentd/custom_fluentd.conf
    fluentd_config_source: ./custom_fluentd_config.conf
  tasks:
    - name: "Include splunk-otel-collector"
      include_role:
        name: "splunk-otel-collector"
