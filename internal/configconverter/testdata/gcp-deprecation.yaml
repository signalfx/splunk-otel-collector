receivers:
  hostmetrics:
    collection_interval: 1s
    scrapers:
      cpu:
processors:
  resourcedetection/gce:
    detectors: [gce]
    override: true
  resourcedetection/gcp:
    detectors: [gce]
    override: true
  resourcedetection/gke:
    detectors: [gke]
    override: true
  resourcedetection/all:
    detectors: [gcp, gce, gke]
    override: true
  resourcedetection/all.plus.non.gcp:
    detectors: [gcp, gce, gke, ec2]
    override: true
exporters:
  logging:
    loglevel: info
    sampling_initial: 2
    sampling_thereafter: 500
service:
  pipelines:
    metrics:
      receivers:
        - hostmetrics
      processors:
        - resourcedetection/gce
      exporters:
        - logging
