// Code generated by mdatagen. DO NOT EDIT.

package metadata

import (
	"path/filepath"
	"testing"

	"github.com/google/go-cmp/cmp"
	"github.com/google/go-cmp/cmp/cmpopts"
	"github.com/stretchr/testify/require"
	"go.opentelemetry.io/collector/component"
	"go.opentelemetry.io/collector/confmap/confmaptest"
)

func TestMetricsBuilderConfig(t *testing.T) {
	tests := []struct {
		name string
		want MetricsBuilderConfig
	}{
		{
			name: "default",
			want: DefaultMetricsBuilderConfig(),
		},
		{
			name: "all_set",
			want: MetricsBuilderConfig{
				Metrics: MetricsConfig{
					DatabricksJobsActiveTotal:                                                                                          MetricConfig{Enabled: true},
					DatabricksJobsRunDuration:                                                                                          MetricConfig{Enabled: true},
					DatabricksJobsScheduleStatus:                                                                                       MetricConfig{Enabled: true},
					DatabricksJobsTotal:                                                                                                MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryDiskSpaceUsed:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryMax:                                                                               MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryOffHeapMax:                                                                        MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryOffHeapUsed:                                                                       MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryOnHeapMax:                                                                         MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryOnHeapUsed:                                                                        MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryRemaining:                                                                         MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryRemainingOffHeap:                                                                  MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryRemainingOnHeap:                                                                   MetricConfig{Enabled: true},
					DatabricksSparkBlockManagerMemoryUsed:                                                                              MetricConfig{Enabled: true},
					DatabricksSparkCodeGeneratorCompilationTime:                                                                        MetricConfig{Enabled: true},
					DatabricksSparkCodeGeneratorGeneratedClassSize:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkCodeGeneratorGeneratedMethodSize:                                                                    MetricConfig{Enabled: true},
					DatabricksSparkCodeGeneratorSourcecodeSize:                                                                         MetricConfig{Enabled: true},
					DatabricksSparkDagSchedulerJobsActive:                                                                              MetricConfig{Enabled: true},
					DatabricksSparkDagSchedulerJobsAll:                                                                                 MetricConfig{Enabled: true},
					DatabricksSparkDagSchedulerStagesFailed:                                                                            MetricConfig{Enabled: true},
					DatabricksSparkDagSchedulerStagesRunning:                                                                           MetricConfig{Enabled: true},
					DatabricksSparkDagSchedulerStagesWaiting:                                                                           MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitAutoVacuumCount:                                                            MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitDeletedFilesFiltered:                                                       MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitFilterListingCount:                                                         MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitJobCommitCompleted:                                                         MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitMarkerReadErrors:                                                           MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitMarkerRefreshCount:                                                         MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitMarkerRefreshErrors:                                                        MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitMarkersRead:                                                                MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitRepeatedListCount:                                                          MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitUncommittedFilesFiltered:                                                   MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitUntrackedFilesFound:                                                        MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitVacuumCount:                                                                MetricConfig{Enabled: true},
					DatabricksSparkDatabricksDirectoryCommitVacuumErrors:                                                               MetricConfig{Enabled: true},
					DatabricksSparkDatabricksPreemptionChecksCount:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkDatabricksPreemptionPoolsAutoexpiredCount:                                                           MetricConfig{Enabled: true},
					DatabricksSparkDatabricksPreemptionPoolstarvationTime:                                                              MetricConfig{Enabled: true},
					DatabricksSparkDatabricksPreemptionSchedulerOverheadTime:                                                           MetricConfig{Enabled: true},
					DatabricksSparkDatabricksPreemptionTaskWastedTime:                                                                  MetricConfig{Enabled: true},
					DatabricksSparkDatabricksPreemptionTasksPreemptedCount:                                                             MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesActivePools:                                                            MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesBypassLaneActivePools:                                                  MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesFastLaneActivePools:                                                    MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesFinishedQueriesTotalTaskTime:                                           MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesLaneCleanupMarkedPools:                                                 MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesLaneCleanupTwoPhasePoolsCleaned:                                        MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesLaneCleanupZombiePoolsCleaned:                                          MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesPreemptionSlotTransferSuccessfulPreemptionIterationsCount:              MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesPreemptionSlotTransferTasksPreemptedCount:                              MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesPreemptionSlotTransferWastedTaskTime:                                   MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationGradualDecreaseCount:                                    MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationQuickDropCount:                                          MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationQuickJumpCount:                                          MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationSlotsReserved:                                           MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesSlowLaneActivePools:                                                    MetricConfig{Enabled: true},
					DatabricksSparkDatabricksTaskSchedulingLanesTotalquerygroupsfinished:                                               MetricConfig{Enabled: true},
					DatabricksSparkExecutorDiskUsed:                                                                                    MetricConfig{Enabled: true},
					DatabricksSparkExecutorMaxMemory:                                                                                   MetricConfig{Enabled: true},
					DatabricksSparkExecutorMemoryUsed:                                                                                  MetricConfig{Enabled: true},
					DatabricksSparkExecutorTotalInputBytes:                                                                             MetricConfig{Enabled: true},
					DatabricksSparkExecutorTotalShuffleRead:                                                                            MetricConfig{Enabled: true},
					DatabricksSparkExecutorTotalShuffleWrite:                                                                           MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsDirectPoolMemory:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsJvmHeapMemory:                                                                        MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsJvmOffHeapMemory:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsMajorGcCount:                                                                         MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsMajorGcTime:                                                                          MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsMappedPoolMemory:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsMinorGcCount:                                                                         MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsMinorGcTime:                                                                          MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsOffHeapExecutionMemory:                                                               MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsOffHeapStorageMemory:                                                                 MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsOffHeapUnifiedMemory:                                                                 MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsOnHeapExecutionMemory:                                                                MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsOnHeapStorageMemory:                                                                  MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsOnHeapUnifiedMemory:                                                                  MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsProcessTreeJvmRssMemory:                                                              MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsProcessTreeJvmVMemory:                                                                MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsProcessTreeOtherRssMemory:                                                            MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsProcessTreeOtherVMemory:                                                              MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsProcessTreePythonRssMemory:                                                           MetricConfig{Enabled: true},
					DatabricksSparkExecutorMetricsProcessTreePythonVMemory:                                                             MetricConfig{Enabled: true},
					DatabricksSparkHiveExternalCatalogFileCacheHits:                                                                    MetricConfig{Enabled: true},
					DatabricksSparkHiveExternalCatalogFilesDiscovered:                                                                  MetricConfig{Enabled: true},
					DatabricksSparkHiveExternalCatalogHiveClientCalls:                                                                  MetricConfig{Enabled: true},
					DatabricksSparkHiveExternalCatalogParallelListingJobsCount:                                                         MetricConfig{Enabled: true},
					DatabricksSparkHiveExternalCatalogPartitionsFetched:                                                                MetricConfig{Enabled: true},
					DatabricksSparkJobNumActiveStages:                                                                                  MetricConfig{Enabled: true},
					DatabricksSparkJobNumActiveTasks:                                                                                   MetricConfig{Enabled: true},
					DatabricksSparkJobNumCompletedStages:                                                                               MetricConfig{Enabled: true},
					DatabricksSparkJobNumCompletedTasks:                                                                                MetricConfig{Enabled: true},
					DatabricksSparkJobNumFailedStages:                                                                                  MetricConfig{Enabled: true},
					DatabricksSparkJobNumFailedTasks:                                                                                   MetricConfig{Enabled: true},
					DatabricksSparkJobNumSkippedStages:                                                                                 MetricConfig{Enabled: true},
					DatabricksSparkJobNumSkippedTasks:                                                                                  MetricConfig{Enabled: true},
					DatabricksSparkJobNumTasks:                                                                                         MetricConfig{Enabled: true},
					DatabricksSparkJvmCPUTime:                                                                                          MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusEventsPostedCount:                                                                    MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueAppStatusDroppedEventsCount:                                                     MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueAppstatusSize:                                                                   MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueExecutorManagementDroppedEventsCount:                                            MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueExecutormanagementSize:                                                          MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueSharedDroppedEventsCount:                                                        MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueSharedSize:                                                                      MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueStreamsDroppedEventsCount:                                                       MetricConfig{Enabled: true},
					DatabricksSparkLiveListenerBusQueueStreamsSize:                                                                     MetricConfig{Enabled: true},
					DatabricksSparkSparkSQLOperationManagerHiveOperationsCount:                                                         MetricConfig{Enabled: true},
					DatabricksSparkStageDiskBytesSpilled:                                                                               MetricConfig{Enabled: true},
					DatabricksSparkStageExecutorRunTime:                                                                                MetricConfig{Enabled: true},
					DatabricksSparkStageInputBytes:                                                                                     MetricConfig{Enabled: true},
					DatabricksSparkStageInputRecords:                                                                                   MetricConfig{Enabled: true},
					DatabricksSparkStageMemoryBytesSpilled:                                                                             MetricConfig{Enabled: true},
					DatabricksSparkStageOutputBytes:                                                                                    MetricConfig{Enabled: true},
					DatabricksSparkStageOutputRecords:                                                                                  MetricConfig{Enabled: true},
					DatabricksSparkTimerDagSchedulerMessageProcessingTime:                                                              MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLExecutionStreamingQueryListenerBusTime:          MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLExecutionTime:                                   MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLExecutionUISQLAppStatusListenerTime:             MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLHiveThriftserverUIHiveThriftServer2listenerTime: MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLSparkSessionTime:                                MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLUtilExecutionListenerBusTime:                    MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkStatusAppStatusListenerTime:                        MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkUtilProfilerEnvTime:                                MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksBackendDaemonDriverDataPlaneEventListenerTime:       MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksBackendDaemonDriverDbcEventLoggingListenerTime:      MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksPhotonPhotonCleanupListenerTime:                     MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSparkUtilExecutorTimeLoggingListenerTime:            MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSparkUtilUsageLoggingListenerTime:                   MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLAdviceAdvisorListenerTime:                        MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLDebuggerQueryWatchdogListenerTime:                MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLExecutionUIIoCacheListenerTime:                   MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLIoCachingRepeatedReadsEstimatorTime:              MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusQueueAppStatusListenerProcessingTime:                                            MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusQueueExecutorManagementListenerProcessingTime:                                   MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusQueueSharedListenerProcessingTime:                                               MetricConfig{Enabled: true},
					DatabricksSparkTimerLiveListenerBusQueueStreamsListenerProcessingTime:                                              MetricConfig{Enabled: true},
					DatabricksTasksRunDuration:                                                                                         MetricConfig{Enabled: true},
					DatabricksTasksScheduleStatus:                                                                                      MetricConfig{Enabled: true},
				},
				ResourceAttributes: ResourceAttributesConfig{
					DatabricksInstanceName: ResourceAttributeConfig{Enabled: true},
					SparkAppID:             ResourceAttributeConfig{Enabled: true},
					SparkClusterID:         ResourceAttributeConfig{Enabled: true},
					SparkClusterName:       ResourceAttributeConfig{Enabled: true},
				},
			},
		},
		{
			name: "none_set",
			want: MetricsBuilderConfig{
				Metrics: MetricsConfig{
					DatabricksJobsActiveTotal:                                                                                          MetricConfig{Enabled: false},
					DatabricksJobsRunDuration:                                                                                          MetricConfig{Enabled: false},
					DatabricksJobsScheduleStatus:                                                                                       MetricConfig{Enabled: false},
					DatabricksJobsTotal:                                                                                                MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryDiskSpaceUsed:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryMax:                                                                               MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryOffHeapMax:                                                                        MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryOffHeapUsed:                                                                       MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryOnHeapMax:                                                                         MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryOnHeapUsed:                                                                        MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryRemaining:                                                                         MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryRemainingOffHeap:                                                                  MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryRemainingOnHeap:                                                                   MetricConfig{Enabled: false},
					DatabricksSparkBlockManagerMemoryUsed:                                                                              MetricConfig{Enabled: false},
					DatabricksSparkCodeGeneratorCompilationTime:                                                                        MetricConfig{Enabled: false},
					DatabricksSparkCodeGeneratorGeneratedClassSize:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkCodeGeneratorGeneratedMethodSize:                                                                    MetricConfig{Enabled: false},
					DatabricksSparkCodeGeneratorSourcecodeSize:                                                                         MetricConfig{Enabled: false},
					DatabricksSparkDagSchedulerJobsActive:                                                                              MetricConfig{Enabled: false},
					DatabricksSparkDagSchedulerJobsAll:                                                                                 MetricConfig{Enabled: false},
					DatabricksSparkDagSchedulerStagesFailed:                                                                            MetricConfig{Enabled: false},
					DatabricksSparkDagSchedulerStagesRunning:                                                                           MetricConfig{Enabled: false},
					DatabricksSparkDagSchedulerStagesWaiting:                                                                           MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitAutoVacuumCount:                                                            MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitDeletedFilesFiltered:                                                       MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitFilterListingCount:                                                         MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitJobCommitCompleted:                                                         MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitMarkerReadErrors:                                                           MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitMarkerRefreshCount:                                                         MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitMarkerRefreshErrors:                                                        MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitMarkersRead:                                                                MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitRepeatedListCount:                                                          MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitUncommittedFilesFiltered:                                                   MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitUntrackedFilesFound:                                                        MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitVacuumCount:                                                                MetricConfig{Enabled: false},
					DatabricksSparkDatabricksDirectoryCommitVacuumErrors:                                                               MetricConfig{Enabled: false},
					DatabricksSparkDatabricksPreemptionChecksCount:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkDatabricksPreemptionPoolsAutoexpiredCount:                                                           MetricConfig{Enabled: false},
					DatabricksSparkDatabricksPreemptionPoolstarvationTime:                                                              MetricConfig{Enabled: false},
					DatabricksSparkDatabricksPreemptionSchedulerOverheadTime:                                                           MetricConfig{Enabled: false},
					DatabricksSparkDatabricksPreemptionTaskWastedTime:                                                                  MetricConfig{Enabled: false},
					DatabricksSparkDatabricksPreemptionTasksPreemptedCount:                                                             MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesActivePools:                                                            MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesBypassLaneActivePools:                                                  MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesFastLaneActivePools:                                                    MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesFinishedQueriesTotalTaskTime:                                           MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesLaneCleanupMarkedPools:                                                 MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesLaneCleanupTwoPhasePoolsCleaned:                                        MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesLaneCleanupZombiePoolsCleaned:                                          MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesPreemptionSlotTransferSuccessfulPreemptionIterationsCount:              MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesPreemptionSlotTransferTasksPreemptedCount:                              MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesPreemptionSlotTransferWastedTaskTime:                                   MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationGradualDecreaseCount:                                    MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationQuickDropCount:                                          MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationQuickJumpCount:                                          MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesSlotReservationSlotsReserved:                                           MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesSlowLaneActivePools:                                                    MetricConfig{Enabled: false},
					DatabricksSparkDatabricksTaskSchedulingLanesTotalquerygroupsfinished:                                               MetricConfig{Enabled: false},
					DatabricksSparkExecutorDiskUsed:                                                                                    MetricConfig{Enabled: false},
					DatabricksSparkExecutorMaxMemory:                                                                                   MetricConfig{Enabled: false},
					DatabricksSparkExecutorMemoryUsed:                                                                                  MetricConfig{Enabled: false},
					DatabricksSparkExecutorTotalInputBytes:                                                                             MetricConfig{Enabled: false},
					DatabricksSparkExecutorTotalShuffleRead:                                                                            MetricConfig{Enabled: false},
					DatabricksSparkExecutorTotalShuffleWrite:                                                                           MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsDirectPoolMemory:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsJvmHeapMemory:                                                                        MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsJvmOffHeapMemory:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsMajorGcCount:                                                                         MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsMajorGcTime:                                                                          MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsMappedPoolMemory:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsMinorGcCount:                                                                         MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsMinorGcTime:                                                                          MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsOffHeapExecutionMemory:                                                               MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsOffHeapStorageMemory:                                                                 MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsOffHeapUnifiedMemory:                                                                 MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsOnHeapExecutionMemory:                                                                MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsOnHeapStorageMemory:                                                                  MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsOnHeapUnifiedMemory:                                                                  MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsProcessTreeJvmRssMemory:                                                              MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsProcessTreeJvmVMemory:                                                                MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsProcessTreeOtherRssMemory:                                                            MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsProcessTreeOtherVMemory:                                                              MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsProcessTreePythonRssMemory:                                                           MetricConfig{Enabled: false},
					DatabricksSparkExecutorMetricsProcessTreePythonVMemory:                                                             MetricConfig{Enabled: false},
					DatabricksSparkHiveExternalCatalogFileCacheHits:                                                                    MetricConfig{Enabled: false},
					DatabricksSparkHiveExternalCatalogFilesDiscovered:                                                                  MetricConfig{Enabled: false},
					DatabricksSparkHiveExternalCatalogHiveClientCalls:                                                                  MetricConfig{Enabled: false},
					DatabricksSparkHiveExternalCatalogParallelListingJobsCount:                                                         MetricConfig{Enabled: false},
					DatabricksSparkHiveExternalCatalogPartitionsFetched:                                                                MetricConfig{Enabled: false},
					DatabricksSparkJobNumActiveStages:                                                                                  MetricConfig{Enabled: false},
					DatabricksSparkJobNumActiveTasks:                                                                                   MetricConfig{Enabled: false},
					DatabricksSparkJobNumCompletedStages:                                                                               MetricConfig{Enabled: false},
					DatabricksSparkJobNumCompletedTasks:                                                                                MetricConfig{Enabled: false},
					DatabricksSparkJobNumFailedStages:                                                                                  MetricConfig{Enabled: false},
					DatabricksSparkJobNumFailedTasks:                                                                                   MetricConfig{Enabled: false},
					DatabricksSparkJobNumSkippedStages:                                                                                 MetricConfig{Enabled: false},
					DatabricksSparkJobNumSkippedTasks:                                                                                  MetricConfig{Enabled: false},
					DatabricksSparkJobNumTasks:                                                                                         MetricConfig{Enabled: false},
					DatabricksSparkJvmCPUTime:                                                                                          MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusEventsPostedCount:                                                                    MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueAppStatusDroppedEventsCount:                                                     MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueAppstatusSize:                                                                   MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueExecutorManagementDroppedEventsCount:                                            MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueExecutormanagementSize:                                                          MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueSharedDroppedEventsCount:                                                        MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueSharedSize:                                                                      MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueStreamsDroppedEventsCount:                                                       MetricConfig{Enabled: false},
					DatabricksSparkLiveListenerBusQueueStreamsSize:                                                                     MetricConfig{Enabled: false},
					DatabricksSparkSparkSQLOperationManagerHiveOperationsCount:                                                         MetricConfig{Enabled: false},
					DatabricksSparkStageDiskBytesSpilled:                                                                               MetricConfig{Enabled: false},
					DatabricksSparkStageExecutorRunTime:                                                                                MetricConfig{Enabled: false},
					DatabricksSparkStageInputBytes:                                                                                     MetricConfig{Enabled: false},
					DatabricksSparkStageInputRecords:                                                                                   MetricConfig{Enabled: false},
					DatabricksSparkStageMemoryBytesSpilled:                                                                             MetricConfig{Enabled: false},
					DatabricksSparkStageOutputBytes:                                                                                    MetricConfig{Enabled: false},
					DatabricksSparkStageOutputRecords:                                                                                  MetricConfig{Enabled: false},
					DatabricksSparkTimerDagSchedulerMessageProcessingTime:                                                              MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLExecutionStreamingQueryListenerBusTime:          MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLExecutionTime:                                   MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLExecutionUISQLAppStatusListenerTime:             MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLHiveThriftserverUIHiveThriftServer2listenerTime: MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLSparkSessionTime:                                MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkSQLUtilExecutionListenerBusTime:                    MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkStatusAppStatusListenerTime:                        MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingApacheSparkUtilProfilerEnvTime:                                MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksBackendDaemonDriverDataPlaneEventListenerTime:       MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksBackendDaemonDriverDbcEventLoggingListenerTime:      MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksPhotonPhotonCleanupListenerTime:                     MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSparkUtilExecutorTimeLoggingListenerTime:            MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSparkUtilUsageLoggingListenerTime:                   MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLAdviceAdvisorListenerTime:                        MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLDebuggerQueryWatchdogListenerTime:                MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLExecutionUIIoCacheListenerTime:                   MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusListenerProcessingDatabricksSQLIoCachingRepeatedReadsEstimatorTime:              MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusQueueAppStatusListenerProcessingTime:                                            MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusQueueExecutorManagementListenerProcessingTime:                                   MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusQueueSharedListenerProcessingTime:                                               MetricConfig{Enabled: false},
					DatabricksSparkTimerLiveListenerBusQueueStreamsListenerProcessingTime:                                              MetricConfig{Enabled: false},
					DatabricksTasksRunDuration:                                                                                         MetricConfig{Enabled: false},
					DatabricksTasksScheduleStatus:                                                                                      MetricConfig{Enabled: false},
				},
				ResourceAttributes: ResourceAttributesConfig{
					DatabricksInstanceName: ResourceAttributeConfig{Enabled: false},
					SparkAppID:             ResourceAttributeConfig{Enabled: false},
					SparkClusterID:         ResourceAttributeConfig{Enabled: false},
					SparkClusterName:       ResourceAttributeConfig{Enabled: false},
				},
			},
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			cfg := loadMetricsBuilderConfig(t, tt.name)
			if diff := cmp.Diff(tt.want, cfg, cmpopts.IgnoreUnexported(MetricConfig{}, ResourceAttributeConfig{})); diff != "" {
				t.Errorf("Config mismatch (-expected +actual):\n%s", diff)
			}
		})
	}
}

func loadMetricsBuilderConfig(t *testing.T, name string) MetricsBuilderConfig {
	cm, err := confmaptest.LoadConf(filepath.Join("testdata", "config.yaml"))
	require.NoError(t, err)
	sub, err := cm.Sub(name)
	require.NoError(t, err)
	cfg := DefaultMetricsBuilderConfig()
	require.NoError(t, component.UnmarshalConfig(sub, &cfg))
	return cfg
}
